syntax = "proto3";

package helium.packet_router;

import "region.proto";

message packet_router_packet_up_v1 {
  bytes payload = 1;
  uint64 timestamp = 2;
  float signal_strength = 3;
  float frequency = 4;
  string datarate = 5;
  float snr = 6;
  region region = 7;
  uint64 hold_time = 8;
  bytes hotspot = 9;
  bytes signature = 10;
}

message window_v1 {
  uint64 timestamp = 1;
  float frequency = 2;
  string datarate = 3;
}

message packet_router_packet_down_v1 {
  bytes payload = 1;
  window_v1 rx1 = 2;
  window_v1 rx2 = 3;
}

service hotspot {
  rpc send_packet(stream packet_router_packet_up_v1)
      returns (stream packet_router_packet_down_v1);
}
