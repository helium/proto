[package]
name = "helium-proto"
version = "0.1.0"
authors = ["Helium <info@helium.com>"]
edition = "2018"

[features]
default= []
services=["tonic-build", "tonic"]

[dependencies]
tonic = {version = "0", optional = true}
bytes = "1"
prost = "0"
serde = "1"
serde_derive = "1"
serde_json = "1"

# protobuf-src is broken on Windows, and we only need use it to
# simplify cargo-cross builds.
[target.'cfg(target_family = "windows")'.build-dependencies]
tonic-build = {version = "0", optional = true}
prost-build = "0"
protoc-bin-vendored = "3"

[target.'cfg(not(target_family = "windows"))'.build-dependencies]
tonic-build = {version = "0", optional = true}
prost-build = "0"
protobuf-src = "1"
